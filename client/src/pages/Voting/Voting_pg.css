/* Voting_pg.css - updated to support menu fixed only while on top charts area,
   and to correct menu alignment (left margin). */

:root{
  --primary: #621414;
  --text: #222;
  --accent-blue: #0b66ff;
  --shadow-sm: 0 2px 8px rgba(0,0,0,0.07);
  --transition: all 0.22s cubic-bezier(.4,0,.2,1);
}

/* base */
*{box-sizing:border-box;margin:0;padding:0;font-family:Arial, sans-serif}
html{scroll-behavior:smooth}
body{min-height:100vh;background:#f4f6f9;color:var(--text)}

/* navbar (unchanged) */
.navbar{display:flex;justify-content:space-between;align-items:center;padding:15px 30px;background:linear-gradient(90deg,#5e0000 0%,#c00000 50%,#ff2b4f 100%);color:#fff;position:fixed;left:0;top:0;width:100%;z-index:1100;border-bottom-left-radius:18px;border-bottom-right-radius:18px;box-shadow:0 8px 22px rgba(0,0,0,0.25)}
.navbar-left{display:flex;align-items:center;gap:10px}
.navbar-logo{width:40px;height:40px;border-radius:12px;object-fit:cover;border:2px solid #ffffff55}
.navbar-title{font-size:1.3rem;font-weight:700;color:white}

/* main layout */
.main{
  max-width:1600px;
  width:95%;
  margin:0 auto;
  padding:110px 30px 30px 30px;
  display:grid;
  grid-template-columns:1fr 320px;
  gap:1.5rem;
  align-items:start;
}
.main-content-wrapper{display:flex;flex-direction:column;gap:1.6rem;min-width:0}

/* charts-top: grid so preview can span full width under pie-grid */
.charts-top { display:grid; grid-template-columns: repeat(3, minmax(220px, 1fr)); gap:18px; align-items:start; }
.charts-heading{color:var(--primary);margin-bottom:6px;font-size:1.4rem}
.charts-grid{display:grid;grid-template-columns:repeat(3,minmax(220px,1fr));gap:18px;grid-column:1/4}

/* pie card */
.cat-pie-card{background:#fff;border-radius:12px;padding:10px;box-shadow:0 8px 28px rgba(0,0,0,0.06);display:flex;flex-direction:column;gap:8px;min-height:160px}
.cat-pie-header{display:flex;align-items:center;justify-content:space-between;gap:8px;padding-bottom:6px;border-bottom:1px solid #f1eaea}
.cat-pie-header h4{margin:0;color:var(--primary);font-size:1rem}
.cat-pie-total{font-weight:700;color:#666}
.cat-pie-body{display:flex;gap:10px;align-items:center;padding-top:8px}
.cat-pie-svg{flex:0 0 120px;width:120px;height:120px}
.cat-pie-center-title{font-size:0.85rem;fill:var(--primary);font-weight:700}
.cat-pie-center-sub{font-size:0.9rem;fill:#666}
.cat-pie-legend{display:flex;flex-direction:column;gap:6px;flex:1;min-width:0;overflow:hidden}
.cat-legend-item{display:flex;align-items:center;gap:8px;padding:6px;border-radius:8px;transition:background .12s,transform .12s;cursor:default}
.cat-legend-item.hovered{background:#fff6f6;transform:translateX(6px)}
.cat-legend-color{width:12px;height:12px;border-radius:4px;box-shadow:0 1px 0 rgba(0,0,0,0.06) inset}
.cat-legend-text{font-weight:600;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.cat-legend-val{margin-left:auto;color:#666}

/* preview box under chart grid: spans entire content width */
.charts-preview-under{grid-column:1/4;display:flex;justify-content:flex-end;margin-top:6px}
.preview-box-top{
  background:#fff;border-radius:12px;padding:12px;box-shadow:0 8px 28px rgba(0,0,0,0.06);
  width:100%;display:flex;gap:12px;align-items:center;min-height:180px;box-sizing:border-box;
}
.preview-left{min-width:340px;width:340px;max-width:45%;display:flex;flex-direction:column;align-items:center;gap:8px}
.preview-img-top{width:100%;height:160px;object-fit:cover;border-radius:8px}
.preview-empty-top{height:160px;width:100%;display:flex;align-items:center;justify-content:center;color:#888;font-style:italic}
.preview-right{flex:1 1 auto;display:flex;flex-direction:column;gap:6px;padding:6px 12px}
.preview-caption-top{font-weight:700;color:var(--primary);margin-top:4px}

/* Voting heading */
.voting-section{margin-top:6px}
.voting-heading{color:var(--primary);font-size:1.3rem;margin-bottom:6px}

/* content row */
.content-row{display:flex;gap:18px;align-items:flex-start;width:100%;margin-top:8px}

/* left column wrapper */
.left-col{width:220px;flex:0 0 220px;align-self:flex-start;position:relative}

/* hamburger-menu: default static; when fixed, the inline style set from JSX will make it fixed */
.hamburger-menu{background:#fff;border-radius:16px;box-shadow:0 4px 16px rgba(0,0,0,0.10);padding:0}
.menu-header{display:flex;align-items:center;gap:10px;padding:12px 14px;font-size:1.05rem;font-weight:700;color:var(--primary);border-bottom:1px solid #eee;border-top-left-radius:16px;border-top-right-radius:16px}
.hamburger-links{display:flex;flex-direction:column;gap:12px;padding:12px}
.hamburger-link{display:flex;gap:8px;align-items:center;color:var(--primary);text-decoration:none;padding:8px 6px;border-radius:8px;transition:background .12s}
.hamburger-link:hover{background:#fff6f6;color:#610000}

/* right column */
.right-col{flex:1 1 auto}

/* voting cards grid */
.questions-grid{display:flex;flex-direction:column;gap:2.5rem;flex:1}
.domain-section{margin-bottom:0.5rem;scroll-margin-top:110px}
.domain-title{font-size:1.2rem;font-weight:700;color:var(--primary);margin-bottom:0.7rem;margin-left:0.2rem}
.domain-cards{display:grid;grid-template-columns:repeat(3,1fr);gap:1.2rem}

/* card styles unchanged */
.card{background:#fff;border-radius:16px;box-shadow:0 4px 16px rgba(0,0,0,0.10);display:flex;flex-direction:column;padding:18px 14px;transition:transform .18s;min-height:210px}
.card:hover{transform:translateY(-6px);box-shadow:0 12px 32px rgba(98,20,20,0.13);border:1.5px solid var(--primary)}
.card h3{margin-bottom:15px;text-align:center;font-size:1rem;color:#000}
.options label{display:block;padding:8px 12px;margin-bottom:8px;border-radius:8px;border:1px solid #ddd;cursor:pointer}
.options input[type="radio"]{margin-right:10px}
.submit-btn{background:var(--primary);color:#fff;padding:10px 20px;border:none;border-radius:8px;cursor:pointer;margin-top:10px;font-weight:600;box-shadow:0 2px 8px rgba(98,20,20,0.13);align-self:center}

/* review panel */
.review-panel{background:#fff;border-radius:16px;box-shadow:0 4px 16px rgba(0,0,0,0.10);padding:0;position:sticky;top:100px;height:calc(100vh - 120px);overflow-y:auto}
.review-header{display:flex;justify-content:space-between;align-items:center;padding:15px;border-bottom:1px solid #eee;color:var(--primary);position:sticky;top:0;background:#fff;z-index:10;border-top-left-radius:16px;border-top-right-radius:16px}
.review-content{padding:15px;display:flex;flex-direction:column;gap:12px}
.review-card{background:#f9f9f9;border:1px solid #eee;border-radius:8px;padding:12px;box-shadow:0 2px 4px rgba(0,0,0,0.05)}

/* Add review button */
.add-review-btn-header{background:var(--primary);color:#fff;border:none;border-radius:8px;padding:8px 12px;font-weight:600;cursor:pointer;box-shadow:0 4px 12px rgba(98,20,20,0.15);display:flex;align-items:center;gap:8px}
.add-review-btn-header:hover{filter:brightness(1.05)}

/* modal */
.modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.55);z-index:2000;display:flex;align-items:center;justify-content:center;padding:20px}
.modal-box{background:#fff;border-radius:12px;width:95%;max-width:680px;box-shadow:0 10px 40px rgba(0,0,0,0.35);overflow:hidden}
.modal-header{display:flex;align-items:center;justify-content:space-between;padding:20px 22px;border-bottom:1px solid #eee}
.modal-header h3{font-size:1.4rem;color:var(--primary);margin:0}
.modal-close-btn{background:#fff;border:1px solid #ddd;border-radius:6px;padding:6px 8px;cursor:pointer;font-weight:700;color:#555;box-shadow:0 2px 8px rgba(0,0,0,0.06)}
.modal-close-btn:hover{background:#f7f7f7}
.modal-content{padding:20px 22px;display:flex;flex-direction:column;gap:12px}
.form-group{display:flex;flex-direction:column;gap:8px}
.form-group label{font-weight:600;color:#333}
.form-group input[type="text"],.form-group select,.form-group textarea{width:100%;padding:10px 12px;border-radius:8px;border:1px solid #d7d7d7;font-size:1rem;outline:none;transition:box-shadow .12s,border-color .12s}
.form-group input[type="text"]:focus,.form-group select:focus,.form-group textarea:focus{border-color:var(--primary);box-shadow:0 4px 18px rgba(98,20,20,0.06)}
.form-group textarea{min-height:110px;resize:vertical}
.modal-submit-btn{background:var(--primary);color:#fff;padding:10px 18px;border-radius:10px;border:none;font-weight:700;cursor:pointer;width:220px;box-shadow:0 8px 20px rgba(98,20,20,0.18);margin-top:8px}
.modal-submit-btn:hover{filter:brightness(1.03)}

/* responsive */
@media (max-width:1200px){
  .charts-top{grid-template-columns:repeat(3,minmax(200px,1fr))}
  .charts-grid{grid-column:1/4}
  .domain-cards{grid-template-columns:repeat(2,1fr)}
  .preview-left{min-width:300px;width:300px;max-width:45%}
  .preview-img-top{height:120px}
  .hamburger-menu{left:30px !important}
  .modal-box{max-width:640px}
}
@media (max-width:900px){
  .main{grid-template-columns:1fr;padding:90px 14px 24px 14px}
  .charts-top{grid-template-columns:repeat(2,minmax(160px,1fr))}
  .charts-grid{grid-column:1/3}
  .charts-preview-under{grid-column:1/3}
  .content-row{flex-direction:column}
  .left-col{width:100%}
  .right-col{width:100%}
  .review-panel{position:static;height:auto;max-height:420px;isolation: isolate;}
  .domain-cards{grid-template-columns:1fr}
  .hamburger-menu{position:static;width:100% !important;left:auto !important;top:auto !important}
  .modal-box{width:100%;max-width:720px;margin:6px}
}
@media (max-width:480px){
  .charts-top{grid-template-columns:1fr}
  .cat-pie-card{min-height:140px}
  .preview-left{width:100%;min-width:unset;max-width:100%}
  .preview-img-top{height:110px}
  .preview-right{padding:0}
}

/* FIX — make modal truly topmost */
.modal-overlay {
  position: fixed !important;
  z-index: 9999 !important;
}

.modal-box {
  position: relative;
  z-index: 10000 !important;
}
.modal-content,
.form-group input,
.form-group textarea,
.form-group select {
  position: relative;
  z-index: 10001;
}
/* Modernized Select Box */
select {
  width: 100%;
  padding: 12px 14px;
  font-size: 1rem;
  border: 2px solid #aaa;
  border-radius: 10px;
  background: #fff;
  cursor: pointer;
  outline: none;
  transition: all 0.25s ease-in-out;
  appearance: none;
  background-image: url("data:image/svg+xml;utf8,<svg fill='%23621414' height='24' viewBox='0 0 24 24' width='24'><path d='M7 10l5 5 5-5z'/></svg>");
  background-repeat: no-repeat;
  background-position: right 14px center;
  background-size: 18px;
}

select:hover {
  border-color: #621414;
  box-shadow: 0 0 8px rgba(98, 20, 20, 0.25);
}

select:focus {
  border-color: #c51d1d;
  box-shadow: 0 0 8px rgba(197, 29, 29, 0.45);
}

/* Dropdown List Styling */
select option {
  padding: 12px;
  font-size: 1rem;
  background: #fff;
  color: #333;
}

select option:hover,
select option:checked {
  background: rgba(197, 29, 29, 0.15) !important;
  color: #621414;
}
/* Modernized Select Dropdown */
.modal select {
  width: 100%;
  padding: 12px 15px;
  border-radius: 10px;
  border: 2px solid #b61c1c;
  font-size: 1rem;
  outline: none;
  cursor: pointer;
  background: #fff;
  transition: 0.2s ease;
  appearance: none; /* removes default arrow */
  -webkit-appearance: none;
  -moz-appearance: none;
  background-image: linear-gradient(135deg, #6e1717, #c51d1d);
  background-size: 0 100%;
  background-repeat: no-repeat;
}

.modal select:focus {
  border-color: #821010;
  box-shadow: 0 0 0 3px rgba(183, 28, 28, 0.2);
  background-size: 100% 100%;
  color: white;
}

/* Dropdown options styling */
.modal select option {
  padding: 12px;
  font-size: 1rem;
  background: white;
  border-bottom: 1px solid #eee;
  cursor: pointer;
}

/* Highlighted option */
.modal select option:checked,
.modal select option:hover {
  background: #efefef;
}

/* Custom dropdown scroll */
.modal select {
  overflow-y: auto;
  scrollbar-width: thin;
  scrollbar-color: #b61c1c #f1f1f1;
}

/* Chrome scrollbar */
.modal select::-webkit-scrollbar {
  width: 8px;
}

.modal select::-webkit-scrollbar-thumb {
  background: #b61c1c;
  border-radius: 10px;
}

.modal select::-webkit-scrollbar-track {
  background: #f1f1f1;
}

/* The down arrow */
.modal select::after {
  content: "▼";
  position: absolute;
  right: 15px;
  top: 50%;
  transform: translateY(-50%);
}
